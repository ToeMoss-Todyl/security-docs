[[security-posture-management]]
== Cloud security posture management

NOTE: This feature requires Elastic Stack version 8.3.0 or later.

Cloud security posture management (CSPM) and Kubernetes security posture management (KSPM) continuously monitor and compare your cloud and Kubernetes infrastructure against security best practices to help you identify and remediate misconfigurations. 

[discrete]
=== Enable security posture management

The steps to enable this feature differ between self-hosted and Elastic cloud deployments.

[[enable-kspm-on-cloud]]
[discrete]
==== Enable KSPM for cloud deployments

First, enable the KSPM flag for your deployment:

* From {kib}, open the main menu and click on **Manage this deployment**.

image::images/kspm-1.png[The Manage deployment button]

* Under `My deployment`, select **Kibana**.
* Under "Instances", click the three-dot menu next to your instance, then click **Edit configuration**.
* Click **Edit user settings** in the upper right of the page.
* Add the following line to the User settings: `xpack.cloudSecurityPosture.enabled: true`.
* Next, click the **Back** button under User settings, and then click **Save** in the lower left corner, and confirm your changes.

NOTE: It may take up to two minutes for the changes to take effect.

Navigate back to Kibana. On the left-side navigation menu, open the Security submenu. Click on **Cloud Security** at the bottom of the menu.

image::images/kspm-2.png[The Cloud Security button on the main menu, width=160]

Follow the on-screen prompts to set up data ingestion.

[[enable-kspm-on-selfhosted]]
[discrete]
==== Enable CSPM and KSPM for self-hosted deployments
Edit the kibana.yaml file found in `/config/kibana.yaml/` to include ` `xpack.cloudSecurityPosture.enabled: true`

Navigate back to Kibana. Open the main menu, then go to the Security section and click **Cloud Security**.

image::images/kspm-2.png[The Cloud Security button on the main menu, width=160]

Follow the prompts to set up data ingestion.
