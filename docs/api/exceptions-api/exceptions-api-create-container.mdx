---
id: serverlessSecurityExceptionsApiCreateContainer
# slug: /serverless/security/exceptions-api-create-container
title: Create exception container
# description: Description to be written
tags: [ 'serverless', 'security', 'reference' ]
status: rough content
---

<div id="exceptions-api-create-container"></div>

Creates an exception container.

An exception container groups <DocLink id="serverlessSecurityExceptionsApiCreateExceptionItem">exception items</DocLink>
and can be associated with rules. When an exception item's query evaluates to
`true`, rules do **not** issue alerts even when the rule's other criteria are met.

You can assign detection rules with multiple exception containers. For more information, see <DocLink id="serverlessSecurityRulesApiCreate">Create rule</DocLink> and <DocLink id="serverlessSecurityRulesApiUpdate">Update rule</DocLink>.

<DocCallOut title="Important" color="warning">
All exception items added to the same container are evaluated using
`OR` logic. That is, if any of the items in a container evaluate to `true`, the
exception prevents the rule from generating an alert. Likewise, `OR` logic is
used for evaluating exceptions when more than one exception container is
assigned to a rule. To use the `AND` operator, you can define multiple clauses
(`entries`) in a single exception item.
</DocCallOut>

## Request URL

`POST <kibana host>:<port>/api/exception_lists`

## Request body

A JSON object with these fields:

<DocTable columns={[
  {
    "title": "Name",
    "width": "25%"
  },
  {
    "title": "Type",
    "width": "25%"
  },
  {
    "title": "Description",
    "width": "25%"
  },
  {
    "title": "Required",
    "width": "25%"
  }
]}>
  <DocRow>
    <DocCell>`description`</DocCell>
    <DocCell>String</DocCell>
    <DocCell>Describes the exception container.</DocCell>
    <DocCell>
      Yes
      
      
    </DocCell>
  </DocRow>
  <DocRow>
    <DocCell>`list_id`</DocCell>
    <DocCell>String</DocCell>
    <DocCell>Unique identifier.</DocCell>
    <DocCell>
      No, automatically created when it is not
      provided.
      
      
    </DocCell>
  </DocRow>
  <DocRow>
    <DocCell>`meta`</DocCell>
    <DocCell>Object</DocCell>
    <DocCell>Placeholder for metadata about the list container.</DocCell>
    <DocCell>
      No
      
      
    </DocCell>
  </DocRow>
  <DocRow>
    <DocCell>`name`</DocCell>
    <DocCell>String</DocCell>
    <DocCell>The exception container's name.</DocCell>
    <DocCell>
      Yes
      
      
    </DocCell>
  </DocRow>
  <DocRow>
    <DocCell>`namespace_type`</DocCell>
    <DocCell>String</DocCell>
    <DocCell>
      Determines whether the exception container is available in all ((kib)) spaces or just the space in which it is created, where:
      
      * `single`: Only available in the ((kib)) space in which it is created.
      * `agnostic`: Available in all ((kib)) spaces.

      
    </DocCell>
    <DocCell>
      No, defaults to `single`.
      
      
    </DocCell>
  </DocRow>
  <DocRow>
    <DocCell>`tags`</DocCell>
    <DocCell>String[]</DocCell>
    <DocCell>
      String array containing words and phrases to help categorize
      exception containers.
    </DocCell>
    <DocCell>
      No
      
      
    </DocCell>
  </DocRow>
  <DocRow>
    <DocCell>`type`</DocCell>
    <DocCell>String</DocCell>
    <DocCell>
      The type of exception, which must be one of these:
      
      * `detection`: Detection rule exception
      * `endpoint`: Endpoint alert exception

      
    </DocCell>
    <DocCell>
      Yes
      
      
    </DocCell>
  </DocRow>
</DocTable>

### Example requests

Creates an exception container for holding trusted Linux process exception
items:

```console
POST api/exception_lists
{
  "description": "Excludes Linux trusted processes",
  "name": "Linux process exceptions",
  "list_id": "trusted-linux-processes",
  "type": "detection",
  "namespace_type": "single",
  "tags": [
    "linux",
    "processes"
  ]
}
```
{/* KIBANA */}

## Response code

`200` 
    : Indicates a successful call.

## Response payload

The exception container object with a unique ID.

```json
{
  "_tags": [],
  "created_at": "2020-07-13T09:33:46.187Z",
  "created_by": "elastic",
  "description": "Excludes Linux trusted processes",
  "id": "f320c070-c4eb-11ea-80bb-11861bae2798",  [^1]
  "list_id": "trusted-linux-processes",  [^2]
  "name": "Linux process exceptions",
  "namespace_type": "single",  [^3]
  "tags": [
    "linux",
    "processes"
  ],
  "tie_breaker_id": "2c08d5a5-2ecc-4d5a-acfb-0a367f25b3f3",
  "type": "detection",  [^4]
  "updated_at": "2020-07-13T09:33:46.359Z",
  "updated_by": "elastic"
}
```

These values are required to associate the exception container with detection
rules:

\<1> `id`
\<2> `list_id`
\<3> `namespace_type`
\<4> `type`
