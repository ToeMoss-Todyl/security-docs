[[sensor-full-disk-access]]
= Enable Full Disk Access for {elastic-endpoint}

////
The {endpoint-sec} requires Full Disk Access to protect you from malware and other cybersecurity threats. Full Disk Access permissions is a new privacy feature introduced in macOS Mojave (10.14) that prevents some applications from accessing your data. This means you need to manually grant permission for the Endgame sensor and Elastic Endpoint to access these protected areas of your Mac.
////

{elastic-endpoint} requires Full Disk Access to protect you from malware and other cybersecurity threats. Full Disk Access permissions is a new privacy feature introduced in macOS Mojave (10.14) that prevents some applications from accessing your data. To enable Full Disk Access, you must manually approve {elastic-endpoint}. For endpoints running macOS Mojave (10.14) and earlier, you must also approve the {elastic-endpoint} <<kernel-extension-approval, kernel system extension>>.

NOTE: The following instructions apply to {elastic-endpoint} only. To see Full Disk Access requirements for the Endgame sensor, refer to <will insert topic when added to TOC.>

[discrete]
[[enable-fda-endpoint]]
== Enable Full Disk Access for {elastic-endpoint}

. Open the **System Preferences** application.
+
. Select **Security and Privacy**.
+
--
image::images/fda/sec-privacy-pane.png[]
--
. On the *Security and Privacy* pane, select the **Privacy** tab.
+
. From the left pane, select **Full Disk Access**.
+
--
image::images/fda/select-fda.png[Select Full Disk Access]
--
+
. In the lower-left corner of the pane, click the **Lock button**, then enter your credentials to authenticate.
+
. Ensure that `ElasticEndpoint` AND `co.elastic.systemextension` are checked to properly enable Full Disk Access.
+
NOTE: If the endpoint is running version 7.16 or earlier of {elastic-endpoint}, ensure that `elastic-endpoint` AND `co.elastic.systemextension` are checked to properly enable Full Disk Access.
+
--
image::images/fda/fda-7-16.png[]
--

[discrete]
[[kernel-extension-approval]]
== Approve the kernel extension

For endpoints running macOS Mojave (10.14) and earlier, {elastic-endpoint} will attempt to load a kernel extension (as opposed to a system extension) during installation. This kernel extension is required to provide insight into system events such as process events, file system events, and network events. The following prompt appears during installation:

--
image::images/fda/sys-ext-blocked.png[System extension blocked]
--

To approve the extension:

. Click *Open Security Preferences.*
. In the lower-left corner of the pane, click the **Lock button**, then enter your credentials to authenticate.
. Click *Allow* to load the kernel extension.
+
--
image::images/fda/allow-kernel-ext.png[Allow kernel extension]
--
+

If the prompt does not appear, enable the extension by doing the following:

. Open a Terminal application.
. Enter `kextload /Library/Extension/kendpoint.kext`. Prepend the command with `sudo` if necessary.
You should receive an output similar to `149    0 0xffffff7f82e7b000 0x21000    0x21000    co.elastic.kendpoint (7.11.0) BD152A57-ABD3-370A-BBE8-D15A0FCBD19A <6 5 2 1>`. If you receive this output, the kernel extension is enabled.
